# XSRF

## 防御

1. 添加验证码【银行转帐就是用的这种方式，看看你的中国银行给其他银行转账就知道了】。比如：银行转账界面多加入一个验证码功能。用户转帐就需要输入验证码。如果输入错误就不允许转账。由于黑客是直接发起api请求的，他的钓鱼网站没法知道验证码（因为验证码是在用户的转账界面才有），因此黑客也就没法进行XSRF攻击了。从这里也可以看出，我们平时在登录某些网站的时候，发送的验证码一定不能让别人知道，因为如果黑客也获取了验证码，那么XSRF攻击就能够继续发起了。

2. Referer。比如：银行转账页面发起的转账请求的话，那么referer请求头就会是银行的域名。而黑客页面发的就会是黑客的域名。通过判断这个值也可达到相应的防御效果。不过，这种方式有个很大的弊端就是头部是可以伪造的，那么这种防御就失去了效果。

3. Token。