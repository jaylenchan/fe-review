# 代理模式

## 概述

由于某些原因需要给一个目标对象提供一个代理来控制对该对象的访问。这个时候，访问这个目标对象的访问对象没办法直接引用这个目标对象，而必须通过代理对象来完成对目标对象的访问。代理对象就成为了访问对象和目标对象的中介。

代理模式是对象型结构模式，通过对象聚合的方式（火车卖票的例子）形成一个更大的结构。

## 特点

- 客户端访问的直接是代理对象

## 结构

代理模式分为三种角色：

- 抽象主题类：一个接口或者抽象类，用来声明真实主题类和代理类需要实现的业务方法
- 真实主题类：代理对象所最终要引用的对象，用来实现抽象主题类中定义的业务方法
- 代理类：提供跟真实主题类相同的接口，引用真实主题对象，用来访问，控制，增强真实主题的功能

## 优缺点

- ### 优点

  - 代理对象在目标对象和访问对象之间起到了一个中介作用，以及起到了保护代理对象的作用
  - 代理对象可以扩展目标对象的功能
  - 代理对象将目标对象和访问对象分离，降低了访问者和目标对象之间的耦合度

- ### 缺点
  
  - 增加了系统复杂度

## 前端场景

- 事件委托代理
  - 事件捕获：以从document到触发事件的节点的方式去触发事件，即从上往下触发事件
  - 事件冒泡：以从触发事件的节点到document的方式去触发事件，即从下往上触发事件

- 虚拟代理——预加载
- 虚拟代理——懒加载
- 防抖和节流
